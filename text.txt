<script>
  const htmlEl     = document.documentElement;
  const menuToggle = document.getElementById("menu-toggle");
  const navMenu    = document.getElementById("navMenu");
  const langToggle = document.getElementById("langToggle");
  const ctaStart   = document.getElementById("ctaStart");

  const translations = {
    fr: { /* ...unchanged content... */ },
    en: { /* ...unchanged content... */ }
  };

  function setLang(lang) {
    htmlEl.lang = lang;
    localStorage.setItem("lang", lang);
    document.querySelectorAll("#navMenu a").forEach(a => {
      const key = a.dataset.key;
      if (translations[lang][key]) a.textContent = translations[lang][key];
    });
    document.querySelectorAll("[data-i18n]").forEach(el => {
      const key = el.dataset.i18n;
      if (translations[lang][key]) el.textContent = translations[lang][key];
    });
  }
  let currentLang = localStorage.getItem("lang") || "fr";
  setLang(currentLang);
  langToggle.addEventListener("click", () => {
    currentLang = currentLang === "fr" ? "en" : "fr";
    setLang(currentLang);
  });

  // ✅ Hamburger Menu Toggle Function
  menuToggle.addEventListener("click", () => {
    const isOpen = navMenu.classList.toggle("open");
    menuToggle.setAttribute("aria-expanded", isOpen);
    menuToggle.textContent = isOpen ? "✖" : "☰";
  });

  // ✅ Close menu on link click
  document.querySelectorAll("#navMenu a").forEach(link => {
    link.addEventListener("click", () => {
      navMenu.classList.remove("open");
      menuToggle.setAttribute("aria-expanded", "false");
      menuToggle.textContent = "☰";
    });
  });

  // CTA Button Scroll
  ctaStart.addEventListener("click", () => {
    document.getElementById("welcome").scrollIntoView({ behavior: "smooth" });
  });

  // Countdown Timer
  const target = new Date("2025-11-01T10:00:00+02:00");
  function tick() {
    const now = Date.now();
    const diff = Math.max(target - now, 0);
    const d = Math.floor(diff / 86400000),
          h = Math.floor((diff % 86400000) / 3600000),
          m = Math.floor((diff % 3600000) / 60000),
          s = Math.floor((diff % 60000) / 1000);
    document.getElementById("days").textContent    = d;
    document.getElementById("hours").textContent   = String(h).padStart(2,"0");
    document.getElementById("minutes").textContent = String(m).padStart(2,"0");
    document.getElementById("seconds").textContent = String(s).padStart(2,"0");
  }
  setInterval(tick, 1000);
  tick();

  // Web Speech Greeting
  function speak(lang) {
    const msgs = {
      sepedi:  "Dumela, re a le amohela Afrika Borwa!",
      french:  "Bonjour et bienvenue en Afrique du Sud!",
      english: "Hello and welcome to South Africa!"
    };
    const u = new SpeechSynthesisUtterance(msgs[lang]);
    u.lang = lang === "french"
      ? "fr-FR"
      : lang === "english"
        ? "en-US"
        : "nso-ZA";
    speechSynthesis.speak(u);
  }
  window.speak = speak;
</script>