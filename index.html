<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CÃ©dric & Ruth â€“ South African Wedding</title>

  <!-- Performance: fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <!-- Preload hero for faster LCP -->
  <link rel="preload" as="image" href="images/image1.jpg" imagesrcset="images/image1.jpg" imagesizes="100vw">

  <style>
    /* ... your existing CSS unchanged ... */
    /* Hero */
    .hero {
      padding-top:74px; min-height:100svh;
      /* point to the same file you preloaded */
      background: url('images/image1.jpg') center/cover no-repeat;
    }
    /* rest of CSS... */
  </style>
</head>
<body>

<header>
  <!-- ... your header/nav unchanged ... -->
</header>

<section class="hero" id="home" aria-label="Hero">
  <div class="hero-inner">
    <h1 id="heroTitle" data-i18n="hero">Bienvenue en Afrique du Sud ðŸ‡¿ðŸ‡¦</h1>
    <button class="begin-journey" id="ctaStart" data-i18n="cta">Commencez votre aventure</button>
  </div>
</section>

<section id="welcome" class="card-section" aria-labelledby="welcome-title">
  <div class="card">
    <h2 id="welcome-title" data-i18n="welcomeTitle">Bienvenue</h2>
    <p data-i18n="welcomeBody">Un accueil chaleureux Ã  tous nos invitÃ©s.</p>
    <div style="margin-top: .75rem;">
      <button onclick="playAudio('sepedi')" aria-label="Ã‰couter en Sepedi">ðŸŽ§ Sepedi</button>
      <button onclick="playAudio('french')" aria-label="Ã‰couter en FranÃ§ais">ðŸŽ§ FranÃ§ais</button>
      <button onclick="playAudio('english')" aria-label="Listen in English">ðŸŽ§ English</button>
    </div>

    <!-- Audio elements now point to the correct relative path, preload="auto" -->
    <audio id="audio-sepedi" src="media/sepedi.mp3" preload="auto"></audio>
    <audio id="audio-french" src="media/french.mp3" preload="auto"></audio>
    <audio id="audio-english" src="media/english.mp3" preload="auto"></audio>
  </div>
</section>

<!-- ... the rest of your sections (travel, accommodation, etc.) ... -->

<script>
  // after DOM loads
  window.addEventListener('DOMContentLoaded', () => {
    const htmlEl = document.documentElement;
    const langToggle = document.getElementById("langToggle");
    const navMenu = document.getElementById("navMenu");
    const menuToggle = document.getElementById("menu-toggle");
    const ctaStart = document.getElementById("ctaStart");

    // i18n dictionary...
    const translations = { /* ... */ };

    function setLangAttr(lang){ htmlEl.setAttribute("lang", lang); }
    function updateTexts(lang){
      // nav links
      document.querySelectorAll("#navMenu a").forEach(link=>{
        const key = link.getAttribute("data-key");
        if (translations[lang][key]) link.textContent = translations[lang][key];
      });
      // [data-i18n]
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        const t = translations[lang][key];
        if (t) el.textContent = t;
      });
      setLangAttr(lang);
      localStorage.setItem("lang", lang);
    }

    let currentLang = localStorage.getItem("lang") || "fr";
    updateTexts(currentLang);

    langToggle.addEventListener("click", ()=>{
      currentLang = currentLang === "fr" ? "en" : "fr";
      updateTexts(currentLang);
    });

    menuToggle.addEventListener("click", ()=>{
      const open = navMenu.classList.toggle("open");
      menuToggle.textContent = open ? "âœ–" : "â˜°";
      menuToggle.setAttribute("aria-expanded", String(open));
    });

    document.querySelectorAll("#navMenu a").forEach(link=>{
      link.addEventListener("click", ()=>{
        navMenu.classList.remove("open");
        menuToggle.textContent = "â˜°";
        menuToggle.setAttribute("aria-expanded", "false");
      });
    });

    ctaStart.addEventListener("click", ()=>{
      document.getElementById("welcome").scrollIntoView({behavior:"smooth"});
    });

    // Countdown...
    const targetDate = new Date("2025-11-01T10:00:00+02:00");
    function updateCountdown(){
      // ...
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // **Fix for audio playback**
    function playAudio(lang){
      const audio = document.getElementById("audio-"+lang);
      if (!audio) {
        console.warn("Audio element not found for:", lang);
        return;
      }
      audio.pause();
      audio.currentTime = 0;
      const playPromise = audio.play();
      if (playPromise?.catch) {
        playPromise.catch(err => {
          console.error("Playback error:", err);
        });
      }
    }
    window.playAudio = playAudio;
  });
</script>
</body>
</html>
